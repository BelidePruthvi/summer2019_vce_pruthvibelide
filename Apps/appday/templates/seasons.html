<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="{% static 'newapp/css/bulma.css' %}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>
<select class="select" onchange="location = this.value;" style="margin-left:1000px;">
    {% for s in seasons %}
    <option  value="{% url 'season' s.season %}" {%ifequal s.season season%}selected{%endifequal%}>{{s.season}}</option>
    {% endfor %}
</select>
<br>
<br>
<table class="table" border="1">
    <tr>
        <tr>
            <th>Team1</th>
            <th>Team2</th>
            <th>Venue</th>
            <th>Result</th>
            <th>Winner</th>
            <th>Won by</th>
            <th>MOM</th>
            <th>More Info</th>
        </tr>
    </tr>
    {% for match in matches %}
        <tr>
            <td>{{ match.team1 }}</td>
            <td>{{ match.team2 }}</td>
            <td>{{ match.venue }}</td>
            <td> {{ match.result }}</td>
            <td>{{ match.winner }}</td>
            {% if match.win_by_runs == 0 %}
            <td>{{ match.win_by_wickets }} Wickets</td>
            {% else %}
            <td>{{ match.win_by_runs }} Runs</td>
            {% endif %}
            <td>{{ match.player_of_match }}</td>
            <td><a href="{% url 'match' match.id %}">More Info</a></td>
        </tr>
    {% endfor %}

</table>
    {% if matches.has_previous %}
        <a class="btn btn-outline-dark mb-4" href="?page=1">First</a>
        <a class="btn btn-outline-dark mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
      {% endif %}

      {% for num in matches.paginator.page_range %}
        {% if matches.number == num %}
          <a class="btn btn-dark mb-4" href="?page={{ num }}">{{ num }}</a>
        {% elif num > matches.number|add:'-3' and num < matches.number|add:'3' %}
          <a class="btn btn-outline-dark mb-4" href="?page={{ num }}">{{ num }}</a>
        {% endif %}
      {% endfor %}

      {% if matches.has_next %}
        <a class="btn btn-outline-dark mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
        <a class="btn btn-outline-dark mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
      {% endif %}
</body>
</html>